@import url('https://fonts.googleapis.com/css?family=Lato');

// define variables for the font, colors and other properties frequently used in the project
font-main = 'Lato', sans-serif
black = #252525
white = #fff
filter-shadow = drop-shadow(0 1px 5px rgba(black, 0.5))
transition-cubic = all 0.3s cubic-bezier(.22,-0.3,.68,1.44)

// define a mixin for button elements, to remove the default styling
.button-reset 
    background none 
    border none 
    font-family inherit 
    color inherit 

// define a mixin for anchor link elements, to remove the underline and alter the color to the chosen hue
.anchor-links-reset 
    text-decoration none 
    color inherit
// define a mixin for the tooltip displayed on hover on particular span elements
.tooltip-style
    background black 
    color white
    padding 0.3rem 0.5rem
    border-radius 12px
    font-size 1.05rem
    filter filter-shadow

*
    box-sizing border-box
    margin 0
    padding 0
  
body
    min-height 100vh
    width 100%
    font-family font-main
    color black
    background white 

.container 
    // properties for the container 

    nav.navbar
        // display the navigation bar in a single row layout, fixed at the top of the page
        display flex 
        align-items center
        position fixed
        top 0
        left 0
        // width 100% to extend the fixed navbar across the entirety of the div.container 
        width 100%
        // background white to superimpose the navigation bar on the following sections
        background white
        padding 0.8rem 1.2rem
        // z-index to lay the navbar atop the rest of the page
        z-index 10

        svg.navbar__logo 
            // include dimensions following the ratio defined by the svg itself
            width 56px
            height @width*0.56

        span.navbar__whitespace
            // expand the span.whitespace to push the surrounding content to the left and to the right
            flex-grow 1

        button.navbar__toggle-links
            // extend the styles defined in the reset mixin
            @extends .button-reset
            height 14px
            width 22px
            // position relative to absolute position the nested span elements, intermittently
            position relative
            // display none to hide the button by default (and show it on mobile devices)
            display none
            
            span 
                // create three lines with the three span elements and position them at equal distance from each other, in the parent button
                width 22px 
                height 2px 
                background black
                position absolute
                top 0 
                left -3px
                // include a transition to alter the property of left when the toggle is switched to active
                transition left 0.2s ease

                &:nth-of-type(2)
                    top 7px
                    left 0
                &:nth-of-type(3)
                    top 14px
                    left 3px
                    
        div.navbar__links
            // display the links in a row, following the pattern of the navigation bar
            display flex 
            align-items center
            line-height 1.5
            
            a
                // extend the style defined by the anchor link mixin
                @extends .anchor-links-reset
                margin 0 1rem
                text-transform uppercase
                // position relative to absolute the pseudo-element beneath the anchor links
                position relative

                &:before 
                    // include a line below each anchor link, animated on hover to appear from the bottom center of each element
                    content ''
                    position absolute
                    bottom -1.8px
                    left 50%
                    height 1.8px
                    width 0
                    background black + 10%
                    transition all 0.3s ease

                &:hover:before 
                    left 0
                    width 100%


    section.welcome
        // center the welcome section in the screen and reduce the width of the container
        max-width 800px
        margin 10rem auto
        padding 0 2rem

        figure.welcome__profile-img
            // float the image to the left of the parent container and include a shape-outside property to let the neighboring text coast on the circle created by the border-radius property
            float left
            border-radius 50%
            shape-outside circle()
            margin 2rem
            // position relative to absolute position the connected pseudo-element, used to create a tooltip on hover 
            position relative 

            &:before
                // position the tooltip to be display on hover atop the image
                content 'Nice Picture'
                position absolute 
                top 0
                left 1rem
                // include some style shared by all tooltip in the page
                @extend .tooltip-style
                opacity 0
                // include a transition with an easing function also specified in a variable
                // transition the properties of top and opacity, on hover
                transition transition-cubic

            &:hover:before
                top -35px
                opacity 1

            img
                // create a round image to match the round container
                width 200px
                height 200px
                border-radius 50%
                filter filter-shadow
                

        div.welcome__profile-txt
            line-height 1.8
            font-size 1.3rem

            span.profile-txt__name
                font-weight bold
                // position relative to absolute position the connecting pseudo element(s) 
                position relative 

                &:before
                    // position the tooltip atop the span element
                    content 'Do wear it out'
                    position absolute 
                    top -1rem
                    right 0
                    @extends .tooltip-style
                    font-weight initial
                    filter filter-shadow
                    // transition the properties of top and opacity
                    transition transition-cubic
                    opacity 0

                &:hover:before
                    top -2.8rem
                    opacity 1

                &:after
                    // position an down-facing arrow right to the bottom of the tooltip
                    content ''
                    position absolute 
                    top -5px
                    left 0
                    // create a triangle pointing down with border properties
                    border-left 10px solid transparent
                    border-right 10px solid transparent
                    border-top 10px solid black
                    border-bottom 10px solid transparent
                    filter filter-shadow
                    // hide the element by default
                    opacity 0

                &:hover:after
                    // transition the property of opacity and left, with a small delay
                    // include the transition property with the hover selector to have the transition occur only as the mouse enters the element
                    // as the mouse exits the element, there is no transition to hide the element
                    opacity 1
                    left 70%
                    transition transition-cubic
                    transition-delay 0.2s

    section#stack
        // center the section in the middle of the viewport, while limiting its width 
        max-width 700px
        min-height 100vh
        margin 0 auto
        padding 2rem

        p
            margin 2rem 0 0
            text-align center 
            font-size 1.3rem
            line-height 1.8

            span.stack__carreer
                // include a tooltip for the selected keywords, like in the welcome section
                // see previous comments which describe the use of the pseudo elements
                position relative
                font-weight bold

                &:before
                    content '10 months and counting'
                    position absolute 
                    top 0
                    right 0
                    @extend .tooltip-style
                    opacity 0
                    transition transition-cubic
                    font-weight initial

                &:hover:before
                    top -45px
                    opacity 1

                &:after
                    content ''
                    position absolute 
                    top -5px
                    left 10%
                    border-left 10px solid transparent
                    border-right 10px solid transparent
                    border-top 10px solid black
                    border-bottom 10px solid transparent
                    filter filter-shadow
                    opacity 0

                &:hover:after
                    opacity 1
                    left 80%
                    transition transition-cubic
                    transition-delay 0.2s


        div.stack__icons
            // for the svg icons, display them in a wrapping row (change the disposition on large devices with a media query)
            display flex 
            flex-wrap wrap 
            justify-content center
            margin 1.5rem 0
        
            svg
                width 90px
                height @width
                margin 12px

                &:last-of-type
                    // rotate the tool's icon to visually separate the section from the rest of the page
                    transform rotate(90deg)

    section#contacts 
        // center the contents of the contacts div in the page, in a single column layout
        min-height 80vh
        display flex 
        flex-direction column 
        justify-content center
        padding 1.2rem

        p
            text-align center 
            font-size 1.3rem
            line-height 1.8
            // limit the width of the paragraph element, reducing the number of words in a single line
            max-width 500px
            margin 0 auto

            span.contacts__notice 
                // include a tooltip for the selected keyword, like in the welcome section
                // see previous comments which describe the use of the pseudo elements
                position relative
                font-weight bold

                &:before
                    content 'ðŸ˜‰âœŒ'
                    position absolute 
                    bottom 0
                    right 0
                    @extend .tooltip-style
                    opacity 0
                    transition transition-cubic
                    font-weight initial

                &:hover:before
                    bottom -45px
                    opacity 1


        .contacts__icons
            // for the svg icons, position them in a wrapping row
            display flex 
            justify-content center 
            align-items center 
            flex-wrap wrap 
            margin 1.5rem 0

            a
                margin 25px
                
                svg  
                    width 80px
                    height @width 
                
                
                    

@media screen and (max-width: 650px)
    // for small screen devices 
    // instructions for the navigation bar
    .container nav.navbar button.navbar__toggle-links 
        // display the toggle button 
        display inline-block
        // set transition for the rotation occurring when the button is clicked
        transition all 0.3s ease

        &.toggle-button-active 
            // define a class for the button, which is toggled in the JS script when the button is clicked
            // for the toggle button, transform it and its contents to have three vertical lines lined up one after another
            transform rotate(90deg)

            span
                left 0

    .container nav.navbar div.navbar__links
        // change the layout of the anchor links to display them in a single column layout, in a div spanning the entire width and height of the viewport, below the navigation bar
        position absolute
        // push the panel below the visible logo and toggle button, which occupy the height of the svg (56px*0.56) + the padding (0.8rem on each side)
        top calc(56px * 0.56 + 1.6rem)
        left 0
        width 100%
        height 100vh
        padding 0 1rem
        flex-direction column
        align-items flex-start
        background white
        // move the panel out of sight, to the right of the screen
        transform translateX(100%)
        // set visibility hidden to remove the panel from reach
        visibility hidden
        // transition to alter the horizontal position and visibility of the panel, when the toggle button is pressed
        transition all 0.3s ease

        a
            // separate the anchor links from one another (they are displayed vertically in a column)
            margin 0.5rem 0

            &:before 
                // show the faux-border-bottom (and not as a consequence of a hover event like previously stated by default)
                left 0
                width 100%
                transition none

        &.panel-active
            // for the div containing the anchor link elements, transform it to display it in the screen, when the toggle button is pressed
            transform translateX(0)
            visibility visible

    .container section.welcome
        // increase the spacing between the section and the vertical neighbours 
        margin 5rem auto

@media screen and (max-width: 400px)
    // for (very) small screen sizes display image and text in a single column layout
    .container section.welcome
        display flex 
        flex-direction column 
        justify-content center 
        align-items center

@media screen and (min-width: 1400px) 
    // for (very) large screen sizes, increase the font-size of the text and the width of the parent section
    .container section.welcome
        max-width 1000px
    .container section.welcome div.welcome__profile-txt, .container section#stack p
        font-size 3rem

@media screen and (min-width: 700px)
    // for large screens, display the SVG icons on a circle
    .container section#stack
        width 700px
        height @width

        div.stack__icons
            // position relative to absolute position the svg icons 
            position relative 
            height 100%
            width 100%
            // negative vetrtical margin to remove excessive whitespace between the icons and the rest of the page 
            margin -2rem 0

            svg
                position absolute 
                width 90px
                height @width
                filter drop-shadow(0px 1px 5px rgba(0,0,0,0.1))
                // center the icons in the middle of the parent container
                top calc(50% - 45px)
                left @top

                &:last-of-type
                    // for the last icon, position it in the center of the circle, and move the remaining icons around it 
                    height 150px
                    width 60px
                    top calc(50% - 75px)
                    left calc(50% - 30px)
                    transform rotate(-40deg)
                    // transition triggered when a cursor hovers on the svg section
                    transition transform 0.3s cubic-bezier(.2,-0.32,.76,1.48)

            &:hover svg:last-of-type
                transform rotate(-75deg)
                    
            for icon in 1..12
                // for all svg icons (excluding the last one)
                svg:nth-of-type({icon})
                    // position them around the center, at different coordinates, to visually create a circle
                    // rotate rotates the icon in the center
                    // translateX moves the icon horizontally and on the basis of the rotation
                    // rotate with an opposite value of the first instance rotates the icon in place, back to the correct inclination
                    transform rotate(360deg/12*icon) translateX(250px) rotate(-360deg/12*icon)